<div>
  <div class="col s12 tabs-container">
    <ul class="tabs list-states" materialize="tabs">
      <li class="tab pointer-half"><a [routerLinkActive]="['active']" (click)="studentState = true">Студенты</a></li>
      <li class="tab pointer-half"><a [routerLinkActive]="['active']" (click)="studentState = false">Преподаватели</a></li>
    </ul>
  </div>
  <div *ngIf="studentState">
    <table class="table bordered highlight centred">
      <tr>
        <th></th>
        <th (click)="changeStudentSort('name')" class="pointer-center">
          ФИО
          <i *ngIf="studentSorts[0] === 'name' && !studentSorts[1]" class="small material-icons pointer-center">arrow_downward</i>
          <i *ngIf="studentSorts[0] === 'name' && studentSorts[1]" class="small material-icons pointer-center">arrow_upward</i>
        </th>
        <th (click)="changeStudentSort('course')" class="pointer-center">
          Курс
          <i *ngIf="studentSorts[0] === 'course' && !studentSorts[1]" class="small material-icons pointer-center">arrow_downward</i>
          <i *ngIf="studentSorts[0] === 'course' && studentSorts[1]" class="small material-icons pointer-center">arrow_upward</i>
        </th>
        <th (click)="changeStudentSort('squad')" class="pointer-center">
          Взвод
          <i *ngIf="studentSorts[0] === 'squad' && !studentSorts[1]" class="small material-icons pointer-center">arrow_downward</i>
          <i *ngIf="studentSorts[0] === 'squad' && studentSorts[1]" class="small material-icons pointer-center">arrow_upward</i>
        </th>
        <th>Действия</th>
      </tr>
      <tr>
        <td></td>
        <td class="search">
          <input type="text" class="form-control" placeholder="Поиск по имени" [(ngModel)]="studentFilters.name">
        </td>
        <td class="search">
          <input type="text" class="form-control" placeholder="Поиск по курсу" [(ngModel)]="studentFilters.course">
        </td>
        <td class="search">
          <input type="text" class="form-control" placeholder="Поиск по взводу" [(ngModel)]="studentFilters.squad">
        </td>
        <td>
          <i materialize="tooltip" data-position="bottom" data-delay="10" data-tooltip="Добавить" class="small material-icons pointer-center" (click)="openAddStudentModal()">add</i>
        </td>
      </tr>
      <tr *ngFor="let student of students | filterBy: studentFilters | orderBy: studentSorts; let i = index">
        <td></td>
        <td>{{student.name}}</td>
        <td>{{student.course}}</td>
        <td>{{student.squad}}</td>
        <!--редактировать профиль, редактировать логин и пароль, удалить-->
        <td>
          <i (click)="openChangePasswordModal()" materialize="tooltip" data-position="bottom" data-delay="10" data-tooltip="Изменить пароль" class="small material-icons pointer-center">chrome_reader_mode</i>
          <i materialize="tooltip" data-position="bottom" data-delay="10" data-tooltip="Редактировать профиль" class="small material-icons pointer-center">person</i>
          <i materialize="tooltip" data-position="bottom" data-delay="10" data-tooltip="Удалить" class="small material-icons pointer-center">delete_forever</i>
        </td>
      </tr>
    </table>
  </div>
  <div *ngIf="!studentState">
    <table class="table bordered highlight centred">
      <tr>
        <th></th>
        <th (click)="changeTeacherSort('name')" class="pointer-center">
          ФИО
          <i *ngIf="teacherSorts[0] === 'name' && !teacherSorts[1]" class="small material-icons pointer-center">arrow_downward</i>
          <i *ngIf="teacherSorts[0] === 'name' && teacherSorts[1]" class="small material-icons pointer-center">arrow_upward</i>
        </th>
        <th>Действия</th>
      </tr>
      <tr>
        <td></td>
        <td class="search">
          <input type="text" class="form-control" placeholder="Поиск по имени" [(ngModel)]="teacherFilters.name">
        </td>
        <td>
          <i materialize="tooltip" data-position="bottom" data-delay="10"
             data-tooltip="Добавить" class="small material-icons pointer-center" (click)="openAddTeacherModal()">add</i>
        </td>
      </tr>
      <tr *ngFor="let teacher of teachers | filterBy: teacherFilters | orderBy: teacherSorts">
        <td></td>
        <td>{{teacher.name}}</td>
        <!--редактировать профиль, редактировать логин и пароль, удалить-->
        <td>
          <i (click)="openChangePasswordModal()" materialize="tooltip" data-position="bottom" data-delay="10" data-tooltip="Изменить пароль" class="small material-icons pointer-center">chrome_reader_mode</i>
          <i (click)="openChangeTeacherModal()" materialize="tooltip" data-position="bottom" data-delay="10" data-tooltip="Редактировать профиль" class="small material-icons pointer-center">person</i>
          <i materialize="tooltip" data-position="bottom" data-delay="10" data-tooltip="Удалить" class="small material-icons pointer-center">delete_forever</i>
        </td>
      </tr>
    </table>
  </div>
</div>

<div id="addStudentModal" class="modal modal-fixed-footer" materialize="modal" [materializeActions]="addStudentModal">
  <div class="modal-content">
    <h4 class="main">Добавить нового студента</h4>
    <div class="main-divider">
      <h6>Распределение:</h6>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
    </div>
    <div class="form-group modal-input-block">
      <span>Курс:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="form-group modal-input-block">
      <span>Взвод:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="main-divider">
      <h6>Личные данные:</h6>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
    </div>
    <div class="form-group modal-input-block">
      <span>Фамилия:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="form-group modal-input-block">
      <span>Имя:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="form-group modal-input-block">
      <span>Отчество:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="main-divider">
      <h6>Аккаунт:</h6>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
    </div>
    <div class="form-group modal-input-block">
      <span>Логин:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="form-group modal-input-block">
      <span>Пароль:</span>
      <input type="text" class="form-control"/>
    </div>
  </div>
  <div class="modal-footer">
    <button class="waves-effect waves-green btn-flat" (click)="createSubject(); closeAddStudentModal()">Добавить</button>
    <button class="modal-action modal-close waves-effect waves-green btn-flat" style="margin-right: 10px" (click)="closeAddStudentModal()">Отмена</button>
  </div>
</div>

<div id="addTeacherModal" class="modal modal-fixed-footer" materialize="modal" [materializeActions]="addTeacherModal">
  <div class="modal-content">
    <h4 class="main">Добавить нового преподавателя</h4>
    <div class="main-divider">
      <h6>Личные данные:</h6>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
    </div>
    <div class="form-group modal-input-block">
      <span>Фамилия:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="form-group modal-input-block">
      <span>Имя:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="form-group modal-input-block">
      <span>Отчество:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="main-divider">
      <h6>Аккаунт:</h6>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
    </div>
    <div class="form-group modal-input-block">
      <span>Логин:</span>
      <input type="text" class="form-control"/>
    </div>
    <div class="form-group modal-input-block">
      <span>Пароль:</span>
      <input type="text" class="form-control"/>
    </div>
  </div>
  <div class="modal-footer">
    <button class="waves-effect waves-green btn-flat" (click)="createSubject(); closeAddTeacherModal()">Добавить</button>
    <button class="modal-action modal-close waves-effect waves-green btn-flat" style="margin-right: 10px" (click)="closeAddTeacherModal()">Отмена</button>
  </div>
</div>

<div id="changePasswordModal" class="modal modal-fixed-footer" materialize="modal" [materializeActions]="changePasswordModal">
  <div class="modal-content">
    <h4 class="main">Изменить пароль</h4>
    <div class="main-divider">
      <h6>Аккаунт:</h6>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
    </div>
    <div class="form-group modal-input-block">
      <span>Логин:</span>
      <input type="text" class="form-control" disabled/>
    </div>
    <div class="form-group modal-input-block">
      <span>Пароль:</span>
      <input type="text" class="form-control"/>
    </div>
  </div>
  <div class="modal-footer">
    <button class="waves-effect waves-green btn-flat" (click)="createSubject(); closeChangePasswordModal()">Добавить</button>
    <button class="modal-action modal-close waves-effect waves-green btn-flat" style="margin-right: 10px" (click)="closeChangePasswordModal()">Отмена</button>
  </div>
</div>

<div id="changeTeacherModal" class="modal modal-fixed-footer" materialize="modal" [materializeActions]="changeTeacherModal">
  <div class="modal-content">
    <h4 class="main">Изменить пароль</h4>
    <div class="main-divider">
      <h6>Аккаунт:</h6>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
      <div class="divider"></div>
    </div>
    <div class="form-group modal-input-block">
      <span>Логин:</span>
      <input type="text" class="form-control" disabled/>
    </div>
    <div class="form-group modal-input-block">
      <span>Пароль:</span>
      <input type="text" class="form-control"/>
    </div>
  </div>
  <div class="modal-footer">
    <button class="waves-effect waves-green btn-flat" (click)="createSubject(); closeChangeTeacherModal()">Добавить</button>
    <button class="modal-action modal-close waves-effect waves-green btn-flat" style="margin-right: 10px" (click)="closeChangeTeacherModal()">Отмена</button>
  </div>
</div>
